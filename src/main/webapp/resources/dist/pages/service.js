define(["require"],function(e){return function(e){e.service("cache",function(){var e={};this.set=function(t,n){e[t]=n},this.get=function(t){return e[t]}}),e.factory("validatePattern",function(){return{bankCard:function(e){if(e.length<16||e.length>19)return!1;var t=/^\d*$/;if(!t.exec(e))return!1;var n="10,18,30,35,37,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,58,60,62,65,68,69,84,87,88,94,95,98,99";if(n.indexOf(e.substring(0,2))==-1)return!1;var r=e.substr(e.length-1,1),i=e.substr(0,e.length-1),s=new Array;for(var o=i.length-1;o>-1;o--)s.push(i.substr(o,1));var u=[],a=[],f=new Array;for(var l=0;l<s.length;l++)(l+1)%2==1?parseInt(s[l])*2<9?u.push(parseInt(s[l])*2):a.push(parseInt(s[l])*2):f.push(s[l]);var c=[],h=[];for(var p=0;p<a.length;p++)c.push(parseInt(a[p])%10),h.push(parseInt(a[p])/10);var d=0,v=0,m=0,g=0,y=0;for(var b=0;b<u.length;b++)d+=parseInt(u[b]);for(var w=0;w<f.length;w++)v+=parseInt(f[w]);for(var E=0;E<c.length;E++)m+=parseInt(c[E]),g+=parseInt(h[E]);y=parseInt(d)+parseInt(v)+parseInt(m)+parseInt(g);var S=parseInt(y)%10==0?10:parseInt(y)%10,x=10-S;return r==x?!0:!1},idcard:function(e){function t(e){e=s(e.replace(/ /g,""));if(e.length==15)return i(e);if(e.length==18){var t=e.split("");return r(e)&&n(t)?!0:!1}return!1}function n(e){var t=0;e[17].toLowerCase()=="x"&&(e[17]=10);for(var n=0;n<17;n++)t+=o[n]*e[n];return valCodePosition=t%11,e[17]==u[valCodePosition]?!0:!1}function r(e){var t=e.substring(6,10),n=e.substring(10,12),r=e.substring(12,14),i=new Date(t,parseFloat(n)-1,parseFloat(r));return i.getFullYear()!=parseFloat(t)||i.getMonth()!=parseFloat(n)-1||i.getDate()!=parseFloat(r)?!1:!0}function i(e){var t=e.substring(6,8),n=e.substring(8,10),r=e.substring(10,12),i=new Date(t,parseFloat(n)-1,parseFloat(r));return i.getYear()!=parseFloat(t)||i.getMonth()!=parseFloat(n)-1||i.getDate()!=parseFloat(r)?!1:!0}function s(e){return e.replace(/(^\s*)|(\s*$)/g,"")}var o=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],u=[1,0,10,9,8,7,6,5,4,3,2];return t(e)}}})}});
